**Script *empirical_bayes***

The script estimates the smoothed effectiveness based on the input data using empirical Bayesian smoothing. 
The script requires two input files: shooting data in CSV format *shooting_data.csv* and a layer in SHP format with a grid file *grid.shp*. 
Based on the shooting data, where each attempt is assigned to a single grid cell, 
the script calculates the smoothed value of Points per Attempt (PPA) metric in each cell based on data from the neighborhood of the given field. 
This allows for the calculation of the average league shooting efficiency of players from a given cell.

**Input parameters for the program**

For the program to work properly, the following input parameters must be entered in the following order:

- path to the file with shooting data collected in a CSV file, e.g., *C:/Users/Desktop/output/shooting_data.csv*,

- path to the SHP file with a layer with a defined rectangular grid, e.g., *C:/Users/Desktop/boisko/grid.shp*,

- path to the output file in SHP format, e.g., *C:/Users/Desktop/output/EB.shp*.

**Example script call**
  
*“C:/Users/Desktop/output/shooting_data.csv”, “C:/Users/Desktop/boisko/grid.shp”, “C:/Users/Desktop/output/EB.shp”*

**Program output**

The program will save the output data in a file with the path defined when entering the parameters to the script *C:/Users/Desktop/output/EB.shp*. 
The file contains a column with the estimated PPA value (column *EB_PPA*).

**Visualization of output data**

The output file in SHP format can be opened in GIS software and then visualized. To do this, you need to:

- load the output file generated by the script into GIS software (*Layer* -> *Add Layer* -> *Add Vector Layer*)
  
- Right-click on the layer name in the list of open layers, then go to *Propertie*s -> *Symbology* -> *Graduated*

- In the *Value* field, select the *EB_PPA* column and set the number of classes (*Number of Classes*)
  
- It is recommended to use five to seven class intervals in order to effectively distinguish between different zones of shooting efficiency
  
- Class intervals can be defined using the Jenks method (*Mode* -> *Natural Breaks (Jenks)* -> *Classify*)

- The color scale can be selected using the *Color Ramp* option above the class intervals.
